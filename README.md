# PostPal - แอปพลิเคชันบล็อก Django

**PostPal** เป็นแอปพลิเคชันบล็อกที่สร้างด้วย Django ที่ช่วยให้ผู้ใช้สามารถสร้างบล็อก อ่านบล็อก และแสดงความคิดเห็นในบล็อกต่างๆ ผู้ใช้จะต้องล็อกอินก่อนที่จะสามารถโพสต์ความคิดเห็นได้ และบล็อกต่างๆ สามารถดูได้จากผู้ใช้ทุกคน

## เงื่อนไขการทดสอบ
กรุณาทำการพัฒนาแอปพลิเคชันนี้ภายใน **15** นาที เพื่อให้การประเมินเป็นไปอย่างมีประสิทธิภาพ โดยแอปจะให้คุณได้แสดงทักษะการใช้งาน Django ผ่านการสร้างระบบบล็อกที่มีฟังก์ชันครบถ้วน รวมถึงระบบล็อกอินและการจัดการความคิดเห็น การทำงานในเวลาที่กำหนดจะช่วยให้เราได้ประเมินความสามารถของคุณได้อย่างแม่นยำและไม่เสียเวลาเกินความจำเป็น

## คุณสมบัติ
- **Admin(ผู้ดูแลระบบ):**
    - สามารถอ่านบทความบล็อกของทุกคน
    - สามารถจัดการ (เพิ่ม, แก้ไข, ลบ) บทความบล็อกของตนเองและผู้อื่น
    - สามารถแสดงความคิดเห็น (Comment) ในบทความบล็อกของทุกคน

- **User(ผู้เข้าใช้งานระบบ):**
    - สามารถอ่านบทความบล็อกของทุกคน
    - สามารถจัดการ (เพิ่ม, แก้ไข, ลบ) บทความบล็อกของตนเอง**เท่านั้น**
    - สามารถแสดงความคิดเห็น (Comment) ในบทความบล็อกของทุกคน

- **Visitor(ผู้เยี่ยมชม):**
    - สามารถอ่านบทความบล็อกของทุกคน
    - สามารถอ่านความคิดเห็นในบทความบล็อก

## ฟีเจอร์ที่ต้องการ

### 1. **โมเดล Blog (บล็อก)**

- **ฟิลด์**:
  - `uuid`: รหัสประจำบล็อก (UUID field) ที่ไม่ซ้ำกัน
  - `title`: ชื่อเรื่องของบล็อก
  - `content`: เนื้อหาของบล็อก
  - `tag`: หมวดหมู่ของบล็อก
  - `author`: ForeignKey ไปยังโมเดล `User` เพื่อเชื่อมโยงบล็อกกับผู้เขียน
  - `created_on`: วันที่และเวลาที่บล็อกถูกสร้าง
  - `updated_on`: วันที่และเวลาที่บล็อกถูกอัปเดตล่าสุด

### 2. **โมเดล Comment (ความคิดเห็น)**

- **ฟิลด์**:
  - `uuid`: รหัสประจำความคิดเห็น (UUID field) ที่ไม่ซ้ำกัน
  - `content`: เนื้อหาของความคิดเห็น
  - `blog`: ForeignKey ไปยังโมเดล `Blog` เพื่อเชื่อมโยงความคิดเห็นกับบล็อก
  - `commenter`: ForeignKey ไปยังโมเดล `User` เพื่อเชื่อมโยงความคิดเห็นกับผู้ที่โพสต์ความคิดเห็น
  - `created_on`: วันที่และเวลาที่ความคิดเห็นถูกสร้าง
  - `updated_on`: วันที่และเวลาที่ความคิดเห็นถูกอัปเดตล่าสุด

### 3. **การยืนยันตัวตนของผู้ใช้ (Login และ Register Views)**

- **Login View**:
  - ผู้ใช้สามารถล็อกอินด้วยชื่อผู้ใช้และรหัสผ่าน
  
- **Register View**:
  - ผู้ใช้ใหม่สามารถลงทะเบียนบัญชีใหม่โดยกรอกชื่อผู้ใช้และรหัสผ่าน

### 4. **วิว (Views)**

- **HomeView**:
  - แสดงรายการบล็อกทั้งหมด
  - สำหรับแต่ละบล็อกจะแสดงชื่อเรื่อง, ตัวอย่างเนื้อหา, ผู้เขียน, และวันที่สร้าง
  - หน้าแรกจะเรียงบล็อกตามฟิลด์ `updated_on`

- **BlogCreateView**:
  - ผู้ใช้สามารถกรอกชื่อเรื่อง, เนื้อหาของบล็อก และหมวดหมู่
  - เฉพาะผู้ใช้ที่ล็อกอินเท่านั้นที่สามารถสร้างบล็อกได้

- **CommentCreateView**:
  - เฉพาะผู้ใช้ที่ล็อกอินเท่านั้นที่สามารถโพสต์ความคิดเห็นได้

- **BlogUpdateView**:
  - เฉพาะผู้เขียนบล็อกหรือผู้ดูแลระบบ (superuser) เท่านั้นที่สามารถแก้ไขบล็อกได้


### 5. **ฟีเจอร์เสริมอื่นๆ**

- **ฟอร์มแสดงความคิดเห็น**:
  - ฟอร์มสำหรับโพสต์ความคิดเห็นจะปรากฏในหน้ารายละเอียดบล็อก และสามารถส่งความคิดเห็นได้โดยเฉพาะผู้ใช้ที่ล็อกอิน

- **การแบ่งหน้า (Pagination)**:
  - กรณีมีบล็อกจำนวนมาก ใช้การแบ่งหน้าบล็อกใน HomeView เพื่อลดจำนวนบล็อกที่แสดงในแต่ละหน้า

- **การตรวจสอบสิทธิ์ (Authentication and Authorization)**:
  - เฉพาะผู้ใช้ที่ล็อกอินแล้วสามารถโพสต์ความคิดเห็นได้
  - เฉพาะผู้เขียนบล็อกหรือผู้ดูแลระบบ (admin) เท่านั้นที่สามารถแก้ไขหรือลบบล็อกได้


### 6. **ข้อสังเกต**
ข้อสังเกตที่ควรดำเนินการเพิ่มเติมเพื่อให้การทำงานสมบูรณ์ สามารถพบได้จากความคิดเห็นที่ระบุไว้ในส่วนของ TODO

---

## การติดตั้ง

### ข้อกำหนดเบื้องต้น
ก่อนที่จะตั้งค่าโปรเจ็กต์ กรุณาตรวจสอบว่าได้ติดตั้งซอฟต์แวร์ต่อไปนี้ในระบบของคุณแล้ว:

- **Python** (>=3.12.5)
- **Django** (>=5.1.1)
- **MySQL/MariaDB** หรือฐานข้อมูลที่รองรับอื่น ๆ
- **Git**

### ขั้นตอน

1. ติดตั้ง dependencies
```bash
pip install -r requirements.txt
```

2. คัดลอกไฟล์การตั้งค่าเริ่มต้น
```bash
cp configs.py.default configs.py
```

3. แก้ไขไฟล์การตั้งค่า `configs.py` เช่น การตั้งค่าเชื่อมต่อกับฐานข้อมูล

4. รัน migrations เพื่อตั้งค่าโครงสร้างฐานข้อมูล
```bash
python manage.py migrate
```

### URLs
- HomePage: / — แสดงรายการบล็อกทั้งหมด
- Blog Detail: /blogs/<uuid:uuid>/ — แสดงรายละเอียดของบล็อก รวมถึงความคิดเห็นและฟอร์มสำหรับโพสต์ความคิดเห็น
- Create Blog: /blogs/create/ — อนุญาตให้ผู้ใช้ที่ล็อกอินแล้วสร้างบล็อกใหม่
- Edit Blog: /blogs/<uuid:uuid>/update/ — อนุญาตให้ผู้ดูแลหรือผู้เขียนแก้ไขบล็อกของตัวเอง
- Delete Blog: /blogs/<uuid:uuid>/delete/ - อนุญาตให้ผู้ดูแลระบบหรือผู้เขียนลบบล็อกของตัวเอง
- Comment Blog: /blogs/<uuid:uuid>/comment/ - อนุญาตให้ผู้ใช้ที่ล็อกอินแล้วแสดงความคิดเห็นของบล็อก
- Login: /login/ — สำหรับล็อกอิน
- Register: /register/ — สำหรับสมัครสมาชิก
- Logout: /logout/ — สำหรับออกจากระบบ
